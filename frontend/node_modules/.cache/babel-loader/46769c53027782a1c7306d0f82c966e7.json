{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/home/devanshi/proshop/frontend/src/screens/ProductScreen.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Row, Col, Image, ListGroup, Card, Button, Form } from 'react-bootstrap';\nimport Rating from '../components/Rating';\nimport Message from '../components/Message';\nimport Loader from '../components/Loader';\nimport { listProductDetails, createProductReview } from '../actions/productActions';\nimport { PRODUCT_CREATE_REVIEW_RESET } from '../constants/productConstants';\n\nconst ProductScreen = ({\n  history,\n  match\n}) => {\n  _s();\n\n  const [qty, setQty] = useState(1);\n  const [rating, setRating] = useState(0);\n  const [comment, setComment] = useState('');\n  const dispatch = useDispatch();\n  const productDetails = useSelector(state => state.productDetails);\n  const {\n    loading,\n    error,\n    product\n  } = productDetails;\n  const userLogin = useSelector(state => state.userLogin);\n  const {\n    userInfo\n  } = userLogin;\n  const productReviewCreate = useSelector(state => state.productReviewCreate);\n  const {\n    success: successProductReview,\n    error: errorProductReview\n  } = productReviewCreate;\n  console.log(product.countInStock);\n  useEffect(() => {\n    if (successProductReview) {\n      alert('Review Submitted!');\n      setRating(0);\n      setComment('');\n      dispatch({\n        type: PRODUCT_CREATE_REVIEW_RESET\n      });\n    }\n\n    dispatch(listProductDetails(match.params.id));\n  }, [dispatch, match, successProductReview]);\n\n  const addToCartHandler = () => {\n    history.push(`/cart/${match.params.id}?qty=${qty}`);\n  };\n\n  const submitHandler = e => {\n    e.preventDefault();\n    dispatch(createProductReview(match.params.id, {\n      rating,\n      comment\n    }));\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Link, {\n      className: \"btn btn-dark my-3\",\n      to: \"/\",\n      children: \"Go Back\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 9\n    }, this), loading ? /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 20\n    }, this) : error ? /*#__PURE__*/_jsxDEV(Message, {\n      variant: \"danger\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 41\n    }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Row, {\n        children: [/*#__PURE__*/_jsxDEV(Col, {\n          md: 6,\n          children: /*#__PURE__*/_jsxDEV(Image, {\n            src: product.image,\n            alt: product.name,\n            fluid: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Col, {\n          md: 3,\n          children: /*#__PURE__*/_jsxDEV(ListGroup, {\n            variant: \"flush\",\n            children: [/*#__PURE__*/_jsxDEV(ListGroup.Item, {\n              children: /*#__PURE__*/_jsxDEV(\"h3\", {\n                children: product.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 62,\n                columnNumber: 25\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 61,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n              children: /*#__PURE__*/_jsxDEV(Rating, {\n                value: product.rating,\n                text: `${product.numReviews} reviews`\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 65,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 64,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n              children: [\"Price:$\", product.price]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 70,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n              children: [\"Description:\", product.description]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 73,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Col, {\n          md: 3,\n          children: /*#__PURE__*/_jsxDEV(Card, {\n            children: /*#__PURE__*/_jsxDEV(ListGroup, {\n              variant: \"flush\",\n              children: [/*#__PURE__*/_jsxDEV(ListGroup.Item, {\n                children: /*#__PURE__*/_jsxDEV(Row, {\n                  children: [/*#__PURE__*/_jsxDEV(Col, {\n                    children: \"Price:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 84,\n                    columnNumber: 33\n                  }, this), /*#__PURE__*/_jsxDEV(Col, {\n                    children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                      children: [\"$\", product.price]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 88,\n                      columnNumber: 37\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 87,\n                    columnNumber: 33\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 83,\n                  columnNumber: 29\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 82,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n                children: /*#__PURE__*/_jsxDEV(Row, {\n                  children: [/*#__PURE__*/_jsxDEV(Col, {\n                    children: \"Status:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 94,\n                    columnNumber: 33\n                  }, this), /*#__PURE__*/_jsxDEV(Col, {\n                    children: product.countInStock > 0 ? 'In Stock' : 'Out Of Stock'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 97,\n                    columnNumber: 33\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 93,\n                  columnNumber: 29\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 92,\n                columnNumber: 25\n              }, this), product.countInStock > 0 && /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n                children: /*#__PURE__*/_jsxDEV(Row, {\n                  children: [/*#__PURE__*/_jsxDEV(Col, {\n                    children: \"Qty\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 105,\n                    columnNumber: 37\n                  }, this), /*#__PURE__*/_jsxDEV(Col, {\n                    children: /*#__PURE__*/_jsxDEV(Form.Control, {\n                      as: \"select\",\n                      value: qty,\n                      onChange: e => setQty(e.target.value),\n                      children: [...Array(product.countInStock).keys()].map(x => /*#__PURE__*/_jsxDEV(\"option\", {\n                        value: x + 1,\n                        children: x + 1\n                      }, x + 1, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 110,\n                        columnNumber: 49\n                      }, this))\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 107,\n                      columnNumber: 41\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 106,\n                    columnNumber: 37\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 104,\n                  columnNumber: 33\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 103,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n                children: /*#__PURE__*/_jsxDEV(Button, {\n                  onClick: addToCartHandler,\n                  className: \"btn-block\",\n                  type: \"button\",\n                  disabled: product.countInStock === 0,\n                  children: \"Add to Cart\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 120,\n                  columnNumber: 29\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 119,\n                columnNumber: 25\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 81,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        children: /*#__PURE__*/_jsxDEV(Col, {\n          md: 6,\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"Reviews\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 130,\n            columnNumber: 17\n          }, this), product.reviews.length === 0 && /*#__PURE__*/_jsxDEV(Message, {\n            children: \"No Reviews\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 131,\n            columnNumber: 48\n          }, this), /*#__PURE__*/_jsxDEV(ListGroup, {\n            variant: \"flush\",\n            children: [product.reviews.map(review => /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: review.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 135,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(Rating, {\n                value: review.rating\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 136,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: review.comment\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 137,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: review.createdAt.substring(0, 10)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 138,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: review.comment\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 139,\n                columnNumber: 29\n              }, this)]\n            }, review._id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 134,\n              columnNumber: 25\n            }, this)), /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n              children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                children: \"Write a Customer Review\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 143,\n                columnNumber: 25\n              }, this), errorProductReview && /*#__PURE__*/_jsxDEV(Message, {\n                variant: \"danger\",\n                children: errorProductReview\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 144,\n                columnNumber: 48\n              }, this), userInfo ? /*#__PURE__*/_jsxDEV(Form, {\n                onSubmit: submitHandler,\n                children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n                  controlId: \"rating\",\n                  children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                    children: \"Rating\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 148,\n                    columnNumber: 37\n                  }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                    as: \"select\",\n                    value: rating,\n                    onChange: e => setRating(e.target.value),\n                    children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"\",\n                      children: \"Select...\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 150,\n                      columnNumber: 41\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"1\",\n                      children: \"1 - Poor\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 151,\n                      columnNumber: 41\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"2\",\n                      children: \"2 - Fair\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 152,\n                      columnNumber: 41\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"3\",\n                      children: \"3 - Good\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 153,\n                      columnNumber: 41\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"4\",\n                      children: \"4 - Very Good\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 154,\n                      columnNumber: 41\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"5\",\n                      children: \"5 - Excellent\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 155,\n                      columnNumber: 41\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 149,\n                    columnNumber: 37\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 147,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n                  controlId: \"comment\",\n                  children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                    children: \"Comment\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 159,\n                    columnNumber: 37\n                  }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                    as: \"textarea\",\n                    row: \"3\",\n                    value: comment,\n                    onChange: e => setComment(e.target.value)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 160,\n                    columnNumber: 37\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 158,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(Button, {\n                  type: \"submit\",\n                  variant: \"primary\",\n                  children: \"Submit\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 162,\n                  columnNumber: 33\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 146,\n                columnNumber: 29\n              }, this) : /*#__PURE__*/_jsxDEV(Message, {\n                children: [\"Please \", /*#__PURE__*/_jsxDEV(Link, {\n                  to: \"/login\",\n                  children: \"sign in\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 166,\n                  columnNumber: 46\n                }, this), \"to write a review \", ' ']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 166,\n                columnNumber: 30\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 142,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true)]\n  }, void 0, true);\n};\n\n_s(ProductScreen, \"zzVPyU7q8UUCpt1b+9oIUK4Cb68=\", false, function () {\n  return [useDispatch, useSelector, useSelector, useSelector];\n});\n\n_c = ProductScreen;\nexport default ProductScreen;\n\nvar _c;\n\n$RefreshReg$(_c, \"ProductScreen\");","map":{"version":3,"sources":["/home/devanshi/proshop/frontend/src/screens/ProductScreen.js"],"names":["React","useState","useEffect","Link","useDispatch","useSelector","Row","Col","Image","ListGroup","Card","Button","Form","Rating","Message","Loader","listProductDetails","createProductReview","PRODUCT_CREATE_REVIEW_RESET","ProductScreen","history","match","qty","setQty","rating","setRating","comment","setComment","dispatch","productDetails","state","loading","error","product","userLogin","userInfo","productReviewCreate","success","successProductReview","errorProductReview","console","log","countInStock","alert","type","params","id","addToCartHandler","push","submitHandler","e","preventDefault","image","name","numReviews","price","description","target","value","Array","keys","map","x","reviews","length","review","createdAt","substring","_id"],"mappings":"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","sourcesContent":["import React,{useState,useEffect} from 'react'\nimport {Link} from 'react-router-dom'\nimport {useDispatch,useSelector} from 'react-redux'\nimport {Row,Col,Image,ListGroup,Card,Button, Form} from 'react-bootstrap'\nimport Rating from '../components/Rating'\nimport Message from '../components/Message'\nimport Loader from '../components/Loader'\nimport {listProductDetails,createProductReview} from '../actions/productActions'\nimport { PRODUCT_CREATE_REVIEW_RESET } from '../constants/productConstants'\n\nconst ProductScreen = ({history,match}) => {\n    const [qty,setQty]=useState(1)\n    const [rating,setRating]=useState(0)\n    const [comment,setComment]=useState('')\n\n    const dispatch=useDispatch()\n    const productDetails=useSelector((state)=>state.productDetails)\n    const {loading,error,product} =productDetails\n\n    const userLogin=useSelector((state)=>state.userLogin)\n    const {userInfo} =userLogin\n\n    const productReviewCreate=useSelector((state)=>state.productReviewCreate)\n    const {success:successProductReview,error:errorProductReview} =productReviewCreate\n\n    console.log(product.countInStock)\n    \n    useEffect(()=>{\n        if(successProductReview){\n            alert('Review Submitted!')\n            setRating(0)\n            setComment('')\n            dispatch({type:PRODUCT_CREATE_REVIEW_RESET})\n        }\n        dispatch(listProductDetails(match.params.id))\n     },[dispatch,match,successProductReview])\n    \n    const addToCartHandler=()=>{\n        history.push(`/cart/${match.params.id}?qty=${qty}`)\n    }\n\n    const submitHandler=(e)=>{\n        e.preventDefault()\n        dispatch(createProductReview(match.params.id,{\n            rating,\n            comment,\n        }))\n    }\n    return( <>\n        <Link className='btn btn-dark my-3' to='/'>\n            Go Back\n        </Link>\n        {loading ? <Loader /> : error ? <Message variant='danger'>{error}</Message>:(\n        <>\n        <Row>\n            <Col md={6}>\n                <Image src={product.image} alt={product.name} fluid />\n            </Col>\n            <Col md={3}>\n                <ListGroup variant='flush'>\n                    <ListGroup.Item>\n                        <h3>{product.name}</h3>\n                    </ListGroup.Item>\n                <ListGroup.Item>\n                    <Rating \n                        value={product.rating}\n                        text={`${product.numReviews} reviews`}\n                    />\n                </ListGroup.Item>\n                <ListGroup.Item>\n                    Price:${product.price}\n                </ListGroup.Item>\n                <ListGroup.Item>\n                    Description:{product.description}\n                </ListGroup.Item>\n                </ListGroup>\n               \n            </Col>\n            <Col md={3}>\n                <Card>\n                    <ListGroup variant='flush'>\n                        <ListGroup.Item>\n                            <Row>\n                                <Col>\n                                    Price:\n                                </Col>\n                                <Col>\n                                    <strong>${product.price}</strong>\n                                </Col>\n                            </Row>\n                        </ListGroup.Item>\n                        <ListGroup.Item>\n                            <Row>\n                                <Col>\n                                    Status:\n                                </Col>\n                                <Col>\n                                    {product.countInStock>0 ? 'In Stock' : 'Out Of Stock'}\n                                </Col>\n                            </Row>\n                        </ListGroup.Item>\n                        {product.countInStock>0 && (\n                            <ListGroup.Item>\n                                <Row>\n                                    <Col>Qty</Col>\n                                    <Col>\n                                        <Form.Control as='select' value={qty} onChange={(e)=>setQty(e.target.value)}>\n                                            {[...Array(product.countInStock).keys()].map((x)=>\n                                            (\n                                                <option key={x+1} value={x+1}>\n                                                    {x+1}\n                                                </option>\n                                            ))}\n                                        </Form.Control>\n                                    </Col>\n                                </Row>\n                            </ListGroup.Item>\n                        )}\n                        <ListGroup.Item>\n                            <Button onClick={addToCartHandler} className='btn-block' type='button' disabled={product.countInStock===0}>\n                                Add to Cart\n                            </Button>\n                        </ListGroup.Item>\n                    </ListGroup>\n                </Card>\n            </Col>\n        </Row>\n        <Row>\n            <Col md={6}>\n                <h2>Reviews</h2>\n                {product.reviews.length===0 && <Message>No Reviews</Message>}\n                <ListGroup variant='flush'>\n                    {product.reviews.map(review=>(\n                        <ListGroup.Item key={review._id}>\n                            <strong>{review.name}</strong>\n                            <Rating value={review.rating} />\n                            <p>{review.comment}</p>\n                            <p>{review.createdAt.substring(0,10)}</p>\n                            <p>{review.comment}</p>\n                        </ListGroup.Item>\n                    ))}\n                    <ListGroup.Item>\n                        <h2>Write a Customer Review</h2>\n                        {errorProductReview && <Message variant='danger'>{errorProductReview}</Message>}\n                        {userInfo ? (\n                            <Form onSubmit={submitHandler}>\n                                <Form.Group controlId='rating'>\n                                    <Form.Label>Rating</Form.Label>\n                                    <Form.Control as='select' value={rating} onChange={(e)=>setRating(e.target.value)}>\n                                        <option value=''>Select...</option>\n                                        <option value='1'>1 - Poor</option>\n                                        <option value='2'>2 - Fair</option>\n                                        <option value='3'>3 - Good</option>\n                                        <option value='4'>4 - Very Good</option>\n                                        <option value='5'>5 - Excellent</option>\n                                    </Form.Control>\n                                </Form.Group>\n                                <Form.Group controlId='comment'>\n                                    <Form.Label>Comment</Form.Label>\n                                    <Form.Control as='textarea' row='3' value={comment} onChange={(e)=>setComment(e.target.value)}></Form.Control>\n                                </Form.Group>\n                                <Button type='submit' variant='primary'>\n                                    Submit\n                                </Button>\n                            </Form>\n                        ) : (<Message>Please <Link to='/login'>sign in</Link>to write a review {' '}</Message>)}\n                    </ListGroup.Item>\n                </ListGroup>\n            </Col>\n        </Row>\n        </>\n        )}\n        \n    </>)\n}\n\nexport default ProductScreen\n"]},"metadata":{},"sourceType":"module"}